---
import { getUILabel, DEFAULT_LANGUAGE } from '../lib/i18n'
import { getPrefecturesForLanguage } from '../lib/prefectures'

export interface Props {
  lang?: string
}

const { lang = DEFAULT_LANGUAGE } = Astro.props

// „Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„Éº„ÉÜ„Ç≠„Çπ„Éà„ÅÆÂÆöÁæ© (i18nÂØæÂøú)
const searchPlaceholder = getUILabel(lang, 'searchPlaceholder')

// Ë®ò‰∫ã„Çø„Ç§„Éó„ÅÆÂÆöÁæ©
const articleTypes = [
  { value: '', label: getUILabel(lang, 'allTypes') },
  { value: 'spot', label: getUILabel(lang, 'spot') },
  { value: 'food', label: getUILabel(lang, 'food') },
  { value: 'transport', label: getUILabel(lang, 'transport') },
  { value: 'hotel', label: getUILabel(lang, 'hotel') },
  { value: 'note', label: getUILabel(lang, 'note') }
]

// ÂÖ®47ÈÉΩÈÅìÂ∫úÁúå„ÅÆÂÆöÁæ©ÔºàÂ§öË®ÄË™ûÂØæÂøúÔºâ
const allPrefectures = getPrefecturesForLanguage(lang)
const prefectures = [
  { code: '', name: getUILabel(lang, 'allPrefectures') },
  ...allPrefectures.map(p => ({ code: p.code, name: p.name }))
]
---

<div class="search-card rounded-2xl border border-[var(--theme-accent)]/15 bg-white/95 backdrop-blur-sm shadow-lg ring-1 ring-[var(--theme-accent)]/5 px-3 py-3 md:px-4 md:py-4 mb-8">
  <!-- Mobile: 2-tier layout -->
  <div class="block md:hidden space-y-3">
    <!-- Tier 1: Search + Button -->
    <div class="grid grid-cols-[1fr,auto] gap-2 items-center">
      <!-- Search Input -->
      <div class="relative">
        <input
          type="text"
          id="search-input"
          placeholder={searchPlaceholder}
          class="search-field w-full h-12 pl-10 pr-4 text-sm placeholder:text-neutral-400 text-ink bg-white/95 border border-neutral-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] focus:border-transparent transition-all duration-200"
          aria-label="Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„ÉâÂÖ•Âäõ"
        />
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
      
      <!-- Search Button -->
      <button
        id="search-button"
        class="cta-search h-12 px-5 bg-[var(--theme-accent)] text-white font-semibold rounded-xl shadow-md hover:bg-[var(--theme-accent)]/90 focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] transition-all duration-200 hover:-translate-y-0.5"
        aria-label="Ê§úÁ¥¢ÂÆüË°å"
      >
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
      </button>
    </div>

    <!-- Tier 2: Collapsible Filters -->
    <div class="relative">
      <!-- Filter Toggle Chip -->
      <div class="flex items-center justify-between mb-2">
        <span class="text-xs text-neutral-500">„Éï„Ç£„É´„Çø„Éº</span>
        <button
          id="filter-toggle"
          class="inline-flex items-center gap-1 px-3 py-1 text-xs font-medium bg-[var(--theme-accent-weak)] text-[var(--theme-ink-strong)] rounded-full hover:brightness-95 transition-all"
          aria-label="„Éï„Ç£„É´„Çø„ÉºÂàá„ÇäÊõø„Åà"
        >
          <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
          </svg>
          <svg id="filter-icon" class="h-3 w-3 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
      </div>
      
      <!-- Collapsible Filter Panel -->
      <div id="filter-panel" class="max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
        <div class="space-y-3 pt-1">

          <!-- Type Filter -->
          <select
            id="type-filter"
            class="select-field w-full pl-4 pr-10 py-2.5 text-sm text-ink bg-white/95 border border-neutral-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] focus:border-transparent transition-all duration-200 appearance-none cursor-pointer"
          >
            {articleTypes.map(type => (
              <option value={type.value}>{type.label}</option>
            ))}
          </select>
          
          <!-- Prefecture Filter -->
          <select
            id="prefecture-filter"
            class="select-field w-full pl-4 pr-10 py-2.5 text-sm text-ink bg-white/95 border border-neutral-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] focus:border-transparent transition-all duration-200 appearance-none cursor-pointer"
          >
            {prefectures.map(prefecture => (
              <option value={prefecture.code}>{prefecture.name}</option>
            ))}
          </select>
          
          <!-- Reset Button -->
          <button
            id="reset-button"
            class="cta-reset w-full py-2.5 bg-neutral-100/90 text-neutral-700 font-medium rounded-xl shadow-sm hover:bg-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-400 transition-all duration-200"
          >
            {getUILabel(lang, 'reset')}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Desktop: Original 3-column layout -->
  <div class="hidden md:flex flex-col lg:flex-row gap-4">

    <!-- Desktop Search Field -->
    <div class="flex-1">
      <div class="relative">
        <input
          type="text"
          id="search-input-desktop"
          placeholder={searchPlaceholder}
          class="search-field w-full pl-12 pr-4 py-3 text-ink bg-white/95 border border-neutral-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] focus:border-transparent transition-all duration-200"
          aria-label="Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„ÉâÂÖ•Âäõ"
        />
        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
    </div>

    <!-- Desktop Filter Selects -->
    <div class="flex flex-col sm:flex-row gap-4 flex-shrink-0">
      <!-- Type Filter -->
      <select
        id="type-filter-desktop"
        class="select-field w-full sm:w-auto pl-4 pr-10 py-3 text-ink bg-white/95 border border-neutral-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] focus:border-transparent transition-all duration-200 appearance-none cursor-pointer"
      >
        {articleTypes.map(type => (
          <option value={type.value}>{type.label}</option>
        ))}
      </select>
      
      <!-- Prefecture Filter -->
      <select
        id="prefecture-filter-desktop"
        class="select-field w-full sm:w-auto pl-4 pr-10 py-3 text-ink bg-white/95 border border-neutral-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] focus:border-transparent transition-all duration-200 appearance-none cursor-pointer"
      >
        {prefectures.map(prefecture => (
          <option value={prefecture.code}>{prefecture.name}</option>
        ))}
      </select>
    </div>

    <!-- Desktop Buttons -->
    <div class="flex gap-2">
      <!-- Search Button -->
      <button
        id="search-button-desktop"
        class="cta-search px-6 py-3 bg-[var(--theme-accent)] text-white font-semibold rounded-2xl shadow-md hover:bg-[var(--theme-accent)]/90 focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)] focus:ring-offset-2 transition-all duration-200 transform hover:scale-105"
      >
        <span class="hidden sm:inline">{getUILabel(lang, 'search')}</span>
        <svg class="h-5 w-5 sm:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
      </button>
      
      <!-- Reset Button -->
      <button
        id="reset-button-desktop"
        class="cta-reset px-4 py-3 bg-neutral-100/90 text-neutral-700 font-medium rounded-2xl shadow-sm hover:bg-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-400 focus:ring-offset-2 transition-all duration-200 transform hover:scale-105"
        title={getUILabel(lang, 'reset')}
      >
        <span class="hidden sm:inline">{getUILabel(lang, 'reset')}</span>
        <svg class="h-5 w-5 sm:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
        </svg>
      </button>
    </div>
  </div>
</div>

<!-- „Ç´„Çπ„Çø„É†Áü¢Âç∞„Ç¢„Ç§„Ç≥„É≥„ÇíCSS„ÅßËøΩÂä† -->
<style>
  /* select„Éú„ÉÉ„ÇØ„Çπ„ÅÆÁü¢Âç∞„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫ */
  #type-filter, #prefecture-filter, #type-filter-desktop, #prefecture-filter-desktop {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
  }
  
  /* Filter panel max height when expanded */
  .filter-expanded {
    max-height: 320px !important;
  }

  /* Harmony with hero: soft shadows, subtle borders */
  .search-card {
    box-shadow: 0 8px 24px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  }

  .search-field, .select-field {
    transition: box-shadow 0.2s ease, transform 0.2s ease;
  }

  .search-field:focus, .select-field:focus {
    box-shadow: 0 8px 20px rgba(166,30,34,0.10);
  }

  .cta-search {
    box-shadow: 0 6px 14px rgba(166,30,34,0.25);
  }

  .cta-search:hover {
    box-shadow: 0 10px 20px rgba(166,30,34,0.28);
  }

  .cta-reset {
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  }
</style>

<script>
  const FILTER_STORAGE_KEY = 'blogFilterState';
  class SearchFilter {
    constructor() {
      // Mobile elements
      this.searchInput = document.getElementById('search-input') as HTMLInputElement
      this.typeFilter = document.getElementById('type-filter') as HTMLSelectElement
      this.prefectureFilter = document.getElementById('prefecture-filter') as HTMLSelectElement
      this.searchButton = document.getElementById('search-button') as HTMLButtonElement
      this.resetButton = document.getElementById('reset-button') as HTMLButtonElement
      
      // Desktop elements
      this.searchInputDesktop = document.getElementById('search-input-desktop') as HTMLInputElement
      this.typeFilterDesktop = document.getElementById('type-filter-desktop') as HTMLSelectElement
      this.prefectureFilterDesktop = document.getElementById('prefecture-filter-desktop') as HTMLSelectElement
      this.searchButtonDesktop = document.getElementById('search-button-desktop') as HTMLButtonElement
      this.resetButtonDesktop = document.getElementById('reset-button-desktop') as HTMLButtonElement
      
      // Mobile accordion elements
      this.filterToggle = document.getElementById('filter-toggle') as HTMLButtonElement
      this.filterPanel = document.getElementById('filter-panel') as HTMLDivElement
      this.filterIcon = document.getElementById('filter-icon') as SVGElement
      
      // „Éö„Éº„Ç∏„É≥„Ç∞ÂØæÂøú: ÁèæÂú®„ÅÆ„Éö„Éº„Ç∏„ÅÆË®ò‰∫ã„ÅÆ„Åø„ÇíÂØæË±°„Å´„Åô„Çã
      this.articles = Array.from(document.querySelectorAll('[data-article]'))
      this.totalArticles = this.articles.length
      
      this.bindEvents()
      // „Çª„ÉÉ„Ç∑„Éß„É≥„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâÁä∂ÊÖã„ÇíÂæ©ÂÖÉ
      this.loadState()
      // Âæ©ÂÖÉ„Åó„ÅüÁä∂ÊÖã„Åß„Éï„Ç£„É´„Çø„É™„É≥„Ç∞„ÇíÂÆüË°å
      this.filterArticles()
      
      // „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥ÊÉÖÂ†±„ÅÆË°®Á§∫Êõ¥Êñ∞
      this.updatePageInfo()
    }

    bindEvents() {
      // Mobile filter accordion toggle
      this.filterToggle?.addEventListener('click', () => this.toggleFilters())
      
      // Mobile events
      this.searchInput?.addEventListener('input', () => this.syncAndFilter())
      this.typeFilter?.addEventListener('change', () => this.syncAndFilter())
      this.prefectureFilter?.addEventListener('change', () => this.syncAndFilter())
      this.searchButton?.addEventListener('click', () => this.filterArticles())
      this.resetButton?.addEventListener('click', () => this.resetFilters())
      this.searchInput?.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          this.filterArticles()
        }
      })
      
      // Desktop events
      this.searchInputDesktop?.addEventListener('input', () => this.syncAndFilter())
      this.typeFilterDesktop?.addEventListener('change', () => this.syncAndFilter())
      this.prefectureFilterDesktop?.addEventListener('change', () => this.syncAndFilter())
      this.searchButtonDesktop?.addEventListener('click', () => this.filterArticles())
      this.resetButtonDesktop?.addEventListener('click', () => this.resetFilters())
      this.searchInputDesktop?.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          this.filterArticles()
        }
      })
    }
    
    toggleFilters() {
      if (this.filterPanel && this.filterIcon) {
        const isExpanded = this.filterPanel.classList.contains('filter-expanded')
        
        if (isExpanded) {
          this.filterPanel.classList.remove('filter-expanded')
          this.filterIcon.style.transform = 'rotate(0deg)'
        } else {
          this.filterPanel.classList.add('filter-expanded')
          this.filterIcon.style.transform = 'rotate(180deg)'
        }
      }
    }
    
    // Sync mobile and desktop inputs
    syncAndFilter() {
      this.syncInputs()
      this.filterArticles()
    }
    
    syncInputs() {
      // Sync search input
      const mobileValue = this.searchInput?.value || ''
      const desktopValue = this.searchInputDesktop?.value || ''
      
      if (mobileValue !== desktopValue) {
        if (this.searchInput) this.searchInput.value = desktopValue || mobileValue
        if (this.searchInputDesktop) this.searchInputDesktop.value = mobileValue || desktopValue
      }
      
      // Sync type filter
      const mobileType = this.typeFilter?.value || ''
      const desktopType = this.typeFilterDesktop?.value || ''
      
      if (mobileType !== desktopType) {
        if (this.typeFilter) this.typeFilter.value = desktopType || mobileType
        if (this.typeFilterDesktop) this.typeFilterDesktop.value = mobileType || desktopType
      }
      
      // Sync prefecture filter
      const mobilePrefecture = this.prefectureFilter?.value || ''
      const desktopPrefecture = this.prefectureFilterDesktop?.value || ''
      
      if (mobilePrefecture !== desktopPrefecture) {
        if (this.prefectureFilter) this.prefectureFilter.value = desktopPrefecture || mobilePrefecture
        if (this.prefectureFilterDesktop) this.prefectureFilterDesktop.value = mobilePrefecture || desktopPrefecture
      }
    }

    filterArticles() {
      // Get values from either mobile or desktop inputs
      const searchTerm = (this.searchInput?.value || this.searchInputDesktop?.value || '').toLowerCase()
      const selectedType = this.typeFilter?.value || this.typeFilterDesktop?.value || ''
      const selectedPrefecture = this.prefectureFilter?.value || this.prefectureFilterDesktop?.value || ''
      
      let visibleCount = 0
      
      this.articles.forEach((article) => {
        const element = article as HTMLElement
        const title = element.dataset.title?.toLowerCase() || ''
        const type = element.dataset.type || ''
        const placeName = element.dataset.placeName?.toLowerCase() || ''
        const prefecture = element.dataset.prefecture || ''
        const bodyText = element.dataset.bodyText?.toLowerCase() || ''
        
        const matchesSearch = !searchTerm || 
          title.includes(searchTerm) || 
          placeName.includes(searchTerm) ||
          bodyText.includes(searchTerm)
        
        const matchesType = !selectedType || type === selectedType
        const matchesPrefecture = !selectedPrefecture || prefecture === selectedPrefecture
        
        const shouldShow = matchesSearch && matchesType && matchesPrefecture
        
        if (shouldShow) {
          element.style.display = 'block'
          element.style.animation = 'fadeIn 0.3s ease-in-out'
          visibleCount++
        } else {
          element.style.display = 'none'
        }
      })
      
      // ÁµêÊûú„Åå0‰ª∂„ÅÆÂ†¥Âêà„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫
      this.updateNoResultsMessage(visibleCount)
      // Áä∂ÊÖã„Çí‰øùÂ≠ò
      this.saveState()
    }

    resetFilters() {
      // Reset mobile inputs
      if (this.searchInput) {
        this.searchInput.value = ''
      }
      if (this.typeFilter) {
        this.typeFilter.selectedIndex = 0
      }
      if (this.prefectureFilter) {
        this.prefectureFilter.selectedIndex = 0
      }
      
      // Reset desktop inputs
      if (this.searchInputDesktop) {
        this.searchInputDesktop.value = ''
      }
      if (this.typeFilterDesktop) {
        this.typeFilterDesktop.selectedIndex = 0
      }
      if (this.prefectureFilterDesktop) {
        this.prefectureFilterDesktop.selectedIndex = 0
      }
      
      // ÂÖ®„Å¶„ÅÆË®ò‰∫ã„ÇíË°®Á§∫
      this.articles.forEach((article) => {
        const element = article as HTMLElement
        element.style.display = 'block'
        element.style.animation = 'fadeIn 0.3s ease-in-out'
      })
      
      // „ÄåÁµêÊûú„Å™„Åó„Äç„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÈùûË°®Á§∫
      const noResultsEl = document.getElementById('no-results-message')
      if (noResultsEl) {
        noResultsEl.style.display = 'none'
      }
      // Áä∂ÊÖã„Çí‰øùÂ≠ò
      this.saveState()
    }

    saveState() {
      const payload = {
        searchTerm: this.searchInput?.value || this.searchInputDesktop?.value || '',
        selectedType: this.typeFilter?.value || this.typeFilterDesktop?.value || '',
        selectedPrefecture: this.prefectureFilter?.value || this.prefectureFilterDesktop?.value || ''
      }
      sessionStorage.setItem(FILTER_STORAGE_KEY, JSON.stringify(payload))
    }

    loadState() {
      try {
        const saved = JSON.parse(sessionStorage.getItem(FILTER_STORAGE_KEY) || '{}')
        
        // Load into both mobile and desktop inputs
        if (saved.searchTerm !== undefined) {
          if (this.searchInput) this.searchInput.value = saved.searchTerm
          if (this.searchInputDesktop) this.searchInputDesktop.value = saved.searchTerm
        }
        if (saved.selectedType !== undefined) {
          if (this.typeFilter) this.typeFilter.value = saved.selectedType
          if (this.typeFilterDesktop) this.typeFilterDesktop.value = saved.selectedType
        }
        if (saved.selectedPrefecture !== undefined) {
          if (this.prefectureFilter) this.prefectureFilter.value = saved.selectedPrefecture
          if (this.prefectureFilterDesktop) this.prefectureFilterDesktop.value = saved.selectedPrefecture
        }
      } catch (e) {
        console.error('Failed to load filter state', e)
      }
    }

    updatePageInfo() {
      // „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥ÂØæÂøú: ÁèæÂú®„Éö„Éº„Ç∏„ÅÆË®ò‰∫ãÊï∞ÊÉÖÂ†±„ÇíË°®Á§∫
      const pageInfoEl = document.getElementById('page-info')
      if (pageInfoEl) {
        const currentLang = document.documentElement.lang || 'ja'
        const infoText = currentLang === 'en' 
          ? `Showing ${this.totalArticles} articles on this page`
          : `„Åì„ÅÆ„Éö„Éº„Ç∏„Å´${this.totalArticles}‰ª∂„ÅÆË®ò‰∫ã„Åå„ÅÇ„Çä„Åæ„Åô`
        pageInfoEl.textContent = infoText
      }
    }

    updateNoResultsMessage(visibleCount: number) {
      let noResultsEl = document.getElementById('no-results-message')
      
      if (visibleCount === 0) {
        if (!noResultsEl) {
          noResultsEl = document.createElement('div')
          noResultsEl.id = 'no-results-message'
          noResultsEl.className = 'text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100'
          const noResultsTitle = getUILabel(document.documentElement.lang || 'ja', 'noArticlesTitle')
          
          const noResultsSubtitle = getUILabel(document.documentElement.lang || 'ja', 'noArticlesSubtitle')
          
          const currentLang = document.documentElement.lang || 'ja'
          
          noResultsEl.innerHTML = `
            <div class="text-6xl mb-4">üîç</div>
            <p class="text-gray-500 text-xl mb-2">${noResultsTitle}</p>
            <p class="text-gray-400">${noResultsSubtitle}</p>
          `
          
          const articlesContainer = document.querySelector('#articles .grid')
          articlesContainer?.parentNode?.appendChild(noResultsEl)
        }
        noResultsEl.style.display = 'block'
      } else {
        if (noResultsEl) {
          noResultsEl.style.display = 'none'
        }
      }
    }
  }

  // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´ÂàùÊúüÂåñ
  document.addEventListener('DOMContentLoaded', () => {
    new SearchFilter()
  })
</script>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>