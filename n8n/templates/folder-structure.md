# ブログ記事のフォルダ管理方式

## 基本方針
1記事につき1フォルダで管理し、記事ファイル（article.md）と関連画像をセットで配置

## フォルダ構造

### 全体構成
```
旅ログ/
├── 未投稿/
│   ├── 日本語/
│   │   ├── 20250127_浅草寺参拝記/
│   │   ├── 20250128_銀座寿司体験/
│   │   └── 20250129_京都旅行準備/
│   ├── English/
│   └── 中文/
└── 投稿/
    ├── 日本語/
    ├── English/
    └── 中文/
```

### 記事フォルダの中身
```
20250127_浅草寺参拝記/
├── article.md           # 記事本文（固定ファイル名）
├── cover.jpg           # カバー画像
├── gate.jpg            # 記事内画像（雷門）
├── street.jpg          # 記事内画像（仲見世通り）
├── temple.jpg          # 記事内画像（本堂）
├── photo1.jpg          # ギャラリー画像
└── photo2.jpg          # ギャラリー画像
```

## フォルダ命名規則

### パターン
`YYYYMMDD_記事タイトル_略称/`

### 例
- `20250127_浅草寺参拝記/`
- `20250128_銀座高級寿司店体験/`
- `20250129_新幹線で京都日帰り旅行/`
- `20250130_パレスホテル東京宿泊記/`
- `20250131_冬の京都旅行準備メモ/`

## 画像の分類と命名

### 3種類の画像
1. **カバー画像**: 記事のメイン画像（1枚）
2. **記事内画像**: 本文中に埋め込む画像（無制限）
3. **ギャラリー画像**: 記事末尾のギャラリー（最大12枚）

### 推奨パターン
- **カバー画像**: `cover.jpg` または `main.jpg`
- **記事内画像**: 内容を示す名前（`gate.jpg`, `menu.jpg` など）
- **ギャラリー画像**: `photo1.jpg`, `photo2.jpg` または内容説明

### 実例
```
20250127_浅草寺参拝記/
├── article.md
├── cover.jpg            # カバー画像
├── gate.jpg             # 記事内画像（雷門）
├── street.jpg           # 記事内画像（仲見世通り）
├── temple.jpg           # 記事内画像（本堂）
├── photo1.jpg           # ギャラリー画像
└── photo2.jpg           # ギャラリー画像
```

### 記事内での使用方法
```markdown
## 見どころ

### 雷門
浅草のシンボルとして親しまれている雷門。

![雷門の大提灯](gate.jpg)

### 仲見世通り  
賑やかな商店街を散策できます。

![賑わう仲見世通り](street.jpg)
```

## ワークフロー処理

### 自動化対象
1. **フォルダ検索**: 未投稿フォルダ内のサブフォルダを取得
2. **記事解析**: `article.md` を読み込み・解析
3. **画像処理**: 同フォルダ内の画像ファイルを検出・アップロード
4. **記事投稿**: Sanityに記事作成
5. **フォルダ移動**: 投稿済みフォルダに移動

### メリット
- **管理性**: 記事と画像がセットで管理される
- **スケーラビリティ**: 記事数が増えても整理された状態を維持
- **検索性**: フォルダ名で記事を簡単に特定可能
- **バックアップ**: フォルダ単位での個別バックアップが可能

## 運用フロー

1. **記事作成**: 新しいフォルダを作成（日付_タイトル）
2. **画像追加**: 関連画像をフォルダ内に配置
3. **記事執筆**: `article.md` に記事を執筆
4. **自動投稿**: n8nワークフローを手動実行
5. **確認**: 投稿結果をブログで確認
6. **完了**: フォルダが自動的に「投稿」に移動